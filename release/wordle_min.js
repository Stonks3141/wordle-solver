let table=document.getElementById("wordletable"),currentRow=0;const json=JSON.parse('{"SALET":{"00000":{"COURD":{"00000":{"NYMPH":{"10100":"MINIM","11000":"KINKY","11001":"WHINY","11010":"PINKY","12000":"VYING","21000":"NINNY","00001":"WHIFF","01000":{"FIZZY":{"12002":"JIFFY"}},"01010":"PIGGY","01021":"HIPPY","01220":"WIMPY","02110":"PYGMY"}},"00001":{"DINGY":{"12002":"BIDDY","12012":"GIDDY","12202":"WINDY","21111":"DYING","22002":"DIZZY"}},"00002":"VIVID","00010":{"BEIGY":{"20200":"BRINK","20202":"BRINY","20210":"BRING","00202":"PRIVY","00210":"WRING","00212":"GRIMY"}},"00011":"DRINK","00012":{"GRIND":{"11102":"RIGID"}},"00020":"MYRRH","00100":{"GIMPY":{"10002":"BUGGY","11000":"FUNGI","20022":"GUPPY","20202":"GUMMY","00002":{"FUNKY":{"22002":"FUZZY","22202":"FUNNY","02202":"BUNNY","02222":"HUNKY"}},"00012":"PUFFY","00022":"PUPPY","00202":"MUMMY","00220":"HUMPH","00222":"JUMPY","00102":"UNIFY","01010":"UNZIP"}},"00101":{"DUMPY":{"12002":"BUDDY","12012":"PUDGY","12102":"MUDDY","22202":"DUMMY"}},"00102":{"HUMID":{"01022":"UNDID"}},"00110":{"MURKY":{"02102":"RUGBY"}},"00111":"RUDDY","02220":"MOURN"}},"01010":{"BEARD":{"01102":{"AHEAD":{"00222":"KNEAD","20202":"AMEND"}}}}}}');let currentWord=json;for(let e=0;e<6;e++){table.rows[e].cells[5].onclick=function(){nextRow(this)};for(let t=0;t<5;t++)table.rows[e].cells[t].onclick=function(){cycleColor(this)}}function cycleColor(e){e.parentNode.rowIndex==currentRow&&(e.classList.contains("gray")?e.classList.replace("gray","yellow"):e.classList.contains("yellow")?e.classList.replace("yellow","green"):e.classList.contains("green")&&e.classList.replace("green","gray"))}function nextRow(e){if(0==e.hasAttribute("hidden")){let t=e.parentNode.rowIndex+1,r=getResult(t-1);if("22222"==r)return void e.setAttribute("hidden","");if(!(currentWord=currentWord[Object.keys(currentWord)[0]]).hasOwnProperty(r))return void alert("Invalid input");currentWord=currentWord[r],e.setAttribute("hidden",""),t<5?(table.rows[t].cells[5].removeAttribute("hidden"),currentRow=t):currentRow=6;for(let e=0;e<5;e++)table.rows[t].cells[e].classList.replace("empty","gray");nextWord(t-1,r)}}function writeWord(e,t){for(let r=0;r<5;r++)table.rows[t].cells[r].innerHTML=e[r]}function nextWord(e,t){if("string"==typeof currentWord){writeWord(currentWord,e+1);for(let t=0;t<5;t++)table.rows[e+1].cells[t].classList.replace("gray","green");currentRow=6,table.rows[e+1].cells[5].setAttribute("hidden","")}else writeWord(Object.keys(currentWord)[0],e+1)}function getResult(e){let t="";for(let r=0;r<5;r++){let n=table.rows[e].cells[r].classList;n.contains("gray")?t+="0":n.contains("yellow")?t+="1":n.contains("green")&&(t+="2")}return t}
